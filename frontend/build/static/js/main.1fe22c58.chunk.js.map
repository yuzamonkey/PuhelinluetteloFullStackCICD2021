{"version":3,"sources":["components/Title.js","components/ShowPersons.js","components/Filter.js","components/Form.js","components/SuccessNotification.js","components/ErrorNotification.js","services/persons.js","App.js","index.js"],"names":["Title","text","ShowPersons","persons","filter","removePerson","map","person","name","toLowerCase","includes","number","type","onClick","value","id","Filter","handleFilterChange","onChange","Form","addPerson","newName","handleNameChange","newNumber","handleNumberChange","onSubmit","SuccessNotification","message","className","ErrorNotification","baseUrl","axios","get","newObject","post","put","delete","App","useState","setPersons","setNewName","setNewNumber","setFilter","successMessage","setSuccessMessage","errorMessage","setErrorMessage","useEffect","personService","then","response","data","event","target","preventDefault","window","confirm","updateperson","find","personObject","console","log","newPersons","setTimeout","catch","error","concat","p","Number","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.1fe22c58.chunk.js","sourcesContent":["const Title = ({ text }) => {\n    return (\n        <h2>{text}</h2>\n    )\n}\n\nexport default Title","\nconst ShowPersons = ({ persons, filter, removePerson }) => {\n    return (\n        <div>\n            <ul>\n                {persons.map(person => {\n                    if (person.name.toLowerCase().includes(filter.toLowerCase())) {\n                        return <p key={person.id}>\n                            {person.name} {person.number} \n                            <button type=\"button\" onClick={removePerson} value={person.id}>delete</button>\n                        </p>\n                    } return <p></p>\n                })}\n            </ul>\n        </div>\n    )\n}\n\nexport default ShowPersons","const Filter = ({ handleFilterChange }) => {\n    return (\n        <div>\n            filter shown with\n            <input onChange={handleFilterChange} />\n        </div>\n    )\n}\n\nexport default Filter","const Form = ({ addPerson, newName, handleNameChange, newNumber, handleNumberChange }) => {\n    return (\n        <div>\n            <form onSubmit={addPerson}>\n                <div>\n                    name:\n            <input value={newName} onChange={handleNameChange} /> <br></br>\n            number:\n            <input value={newNumber} onChange={handleNumberChange} />\n                </div>\n                <div>\n                    <button type=\"submit\">add</button>\n                </div>\n            </form>\n        </div>\n    )\n}\n\nexport default Form","\nconst SuccessNotification = ({ message }) => {\n    if (message === null) {\n        return null\n    }\n    return (\n        <div className='successNotification'>\n            {message}\n        </div>\n    )\n}\n\nexport default SuccessNotification","\nconst ErrorNotification = ({ message }) => {\n    if (message === null) {\n        return null\n    }\n    return (\n        <div className='errorNotification'>\n            {message}\n        </div>\n    )\n}\n\nexport default ErrorNotification","import axios from 'axios'\n\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n    return axios.get(baseUrl)\n}\n\nconst create = newObject => {\n    return axios.post(baseUrl, newObject)\n}\n\nconst update = (id, newObject) => {\n     return axios.put(`${baseUrl}/${id}`, newObject)\n}\n\nconst remove = id => {\n    return axios.delete(`${baseUrl}/${id}`)\n}\n\nexport default { getAll, create, update, remove } // eslint-disable-line","import React, { useState, useEffect } from 'react'\nimport Title from './components/Title'\nimport ShowPersons from './components/ShowPersons'\nimport Filter from './components/Filter'\nimport Form from './components/Form'\nimport SuccessNotification from './components/SuccessNotification'\nimport ErrorNotification from './components/ErrorNotification'\nimport personService from './services/persons'\nimport './index.css'\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [filter, setFilter] = useState('')\n  const [successMessage, setSuccessMessage] = useState(null)\n  const [errorMessage, setErrorMessage] = useState(null)\n\n  useEffect(() => {\n    personService\n      .getAll()\n      .then(response => {\n        setPersons(response.data)\n      })\n  }, [])\n\n  const addPerson = (event) => {\n    event.preventDefault()\n    if (persons.map(person => person.name).includes(newName)) {\n      const replace = window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`)\n      if (replace) {\n        const updateperson = persons.find(person => person.name === newName)\n        const personObject = {\n          name: updateperson.name,\n          number: newNumber\n        }\n        personService\n          .update(updateperson.id, personObject)\n          .then(response => {\n            console.log('update response', response)\n            const newPersons = persons.map(person => (updateperson.id) === (person.id) ? personObject : person)\n            setPersons(newPersons)\n            setSuccessMessage(\n              `Number changed for ${newName}`\n            )\n            setTimeout(() => {\n              setSuccessMessage(null)\n            }, 5000)\n          })\n          .catch(error => {\n            const newPersons = persons.filter(person => person.name !== newName)\n            setPersons(newPersons)\n            setErrorMessage(`Information of ${newName} has already removed from server`)\n            setTimeout(() => {\n              setErrorMessage(null)\n            }, 5000)\n          })\n        setNewName('')\n        setNewNumber('')\n      }\n    } else {\n      const personObject = {\n        name: newName,\n        number: newNumber\n      }\n      personService\n        .create(personObject)\n        .then(response => {\n          setPersons(persons.concat(response.data))\n          setNewName('')\n          setNewNumber('')\n          setSuccessMessage(\n            `${newName} added`\n          )\n          setTimeout(() => {\n            setSuccessMessage(null)\n          }, 5000)\n        })\n        .catch(error => {\n          setErrorMessage(error.response.data.error)\n          setTimeout(() => {\n            setErrorMessage(null)\n          }, 5000)\n        })\n    }\n  }\n\n  const removePerson = (event) => {\n    event.preventDefault()\n    const id = event.target.value\n    const person = persons.find(p => Number(p.id) === Number(id))\n    const returnvalue = window.confirm(`Delete ${person.name}`)\n    if (returnvalue) {\n      personService\n        .remove(id)\n        .then(response => {\n          const newPersons = persons.filter(person => Number(person.id) !== Number(id))\n          setPersons(newPersons)\n          setNewName('')\n          setNewNumber('')\n          setSuccessMessage(\n            `Deleted ${person.name}`\n          )\n          setTimeout(() => {\n            setSuccessMessage(null)\n          }, 5000)\n        })\n    }\n\n  }\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const handleFilterChange = (event) => {\n    setFilter(event.target.value)\n  }\n\n  return (\n    <div>\n      <Title text=\"Phonebook (for part 11 CI/CD)\" />\n      <SuccessNotification message={successMessage} />\n      <ErrorNotification message={errorMessage} />\n      <Filter handleFilterChange={handleFilterChange} />\n      <Title text=\"add new person\" />\n      <Form\n        addPerson={addPerson}\n        newName={newName}\n        handleNameChange={handleNameChange}\n        newNumber={newNumber}\n        handleNumberChange={handleNumberChange} />\n      <Title text=\"Numbers\" />\n      <ShowPersons persons={persons} filter={filter} removePerson={removePerson} />\n    </div>\n  )\n\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}